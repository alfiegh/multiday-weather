import"regenerator-runtime/runtime.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.promise.js";import"core-js/modules/es.function.name.js";import"core-js/modules/es.array.concat.js";function asyncGeneratorStep(e,o,t,r,n,a,c){try{var m=e[a](c),d=m.value}catch(e){return void t(e)}m.done?o(d):Promise.resolve(d).then(r,n)}function _asyncToGenerator(e){return function(){var o=this,t=arguments;return new Promise((function(r,n){var a=e.apply(o,t);function c(e){asyncGeneratorStep(a,r,n,c,m,"next",e)}function m(e){asyncGeneratorStep(a,r,n,c,m,"throw",e)}c(void 0)}))}}var api={key:"471d4cb3d37e4a118c4154637211810",baseUrl:"http://api.weatherapi.com/v1"},section=document.querySelector(".section__three"),searchBox=document.querySelector(".search__box"),searchBtn=document.querySelector(".search__btn"),cityName=document.querySelector(".city__name"),weatherType=document.querySelector(".weather__type"),tempNumber=document.querySelector(".temp__number"),rainMm=document.querySelector(".rain__mm"),imgIcon=document.querySelector(".img__icon"),todayDate=document.querySelector(".today__date"),todayIcon=document.querySelector(".today__icon"),todayType=document.querySelector(".today__type"),todayMinNumber=document.querySelector(".today__min__number"),todayMaxNumber=document.querySelector(".today__max__number"),todayRain=document.querySelector(".today__rain"),tomorrowDate=document.querySelector(".tomorrow__date"),tomorrowIcon=document.querySelector(".tomorrow__icon"),tomorrowType=document.querySelector(".tomorrow__type"),tomorrowMinNumber=document.querySelector(".tomorrow__min__number"),tomorrowMaxNumber=document.querySelector(".tomorrow__max__number"),tomorrowRain=document.querySelector(".tomorrow__rain"),pastTomoDate=document.querySelector(".pastTomo__date"),pastTomoIcon=document.querySelector(".pastTomo__icon"),pastTomoType=document.querySelector(".pastTomo__type"),pastTomoMinNumber=document.querySelector(".pastTomo__min__number"),pastTomoMaxNumber=document.querySelector(".pastTomo__max__number"),pastTomoRain=document.querySelector(".pastTomo__rain");function setQuery(e){"Enter"===e.key&&(getResults(searchBox.value),section.classList.remove("hidden"),section.classList.add("not_hidden"),searchBox.value="")}searchBox.addEventListener("keypress",setQuery),searchBtn.addEventListener("click",(function(e){getResults(searchBox.value),section.classList.remove("hidden"),section.classList.add("not_hidden"),searchBox.value=""}));var getResults=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(api.baseUrl+"/forecast.json?key="+api.key+"&q="+o.toLowerCase()+"&days=3").then((function(e){return e.json()})).then(displayResults);case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Please type a correct address");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(o){return e.apply(this,arguments)}}();function displayResults(e){var o={cLocation:e.location.name,cDate:e.current.last_updated,cType:e.current.condition.text,cIcon:e.current.condition.icon,cTemp:e.current.temp_c,cRain:e.current.precip_mm};renderName(cityName,o.cLocation),renderType(weatherType,o.cType),renderTemp(tempNumber,o.cTemp),renderRain(rainMm,o.cRain),renderIcon(imgIcon,o.cIcon);var t=e.forecast.forecastday[0],r={todayDate:t.date,todayIcon:t.day.condition.icon,todayType:t.day.condition.text,todayMin:t.day.mintemp_c,todayMax:t.day.maxtemp_c,todayRain:t.day.daily_chance_of_rain,todayPrep:t.day.totalprecip_mm};renderDate(todayDate,r.todayDate),renderIcon(todayIcon,r.todayIcon),renderType(todayType,r.todayType),renderTemp(todayMinNumber,r.todayMin),renderTemp(todayMaxNumber,r.todayMax),renderRain(todayRain,r.todayPrep,r.todayRain);var n=e.forecast.forecastday[1],a={tomorrowDate:n.date,tomorrowIcon:n.day.condition.icon,tomorrowType:n.day.condition.text,tomorrowMin:n.day.mintemp_c,tomorrowMax:n.day.maxtemp_c,tomorrowRain:n.day.daily_chance_of_rain,tomorrowPrep:n.day.totalprecip_mm};renderDate(tomorrowDate,a.tomorrowDate),renderIcon(tomorrowIcon,a.tomorrowIcon),renderType(tomorrowType,a.tomorrowType),renderTemp(tomorrowMinNumber,a.tomorrowMin),renderTemp(tomorrowMaxNumber,a.tomorrowMax),renderRain(tomorrowRain,a.tomorrowPrep,a.tomorrowRain);var c=e.forecast.forecastday[2],m={pastTomoDate:c.date,pastTomoIcon:c.day.condition.icon,pastTomoType:c.day.condition.text,pastTomoMin:c.day.mintemp_c,pastTomoMax:c.day.maxtemp_c,pastTomoRain:c.day.daily_chance_of_rain,pastTomoPrep:c.day.totalprecip_mm};renderDate(pastTomoDate,m.pastTomoDate),renderIcon(pastTomoIcon,m.pastTomoIcon),renderType(pastTomoType,m.pastTomoType),renderTemp(pastTomoMinNumber,m.pastTomoMin),renderTemp(pastTomoMaxNumber,m.pastTomoMax),renderRain(pastTomoRain,m.pastTomoPrep,m.pastTomoRain)}var renderDate=function(e,o){e.textContent=o},renderName=function(e,o){e.textContent=o},renderType=function(e,o){e.textContent=o},renderTemp=function(e,o){e.textContent="".concat(Math.round(+o),"â„ƒ")},renderIcon=function(e,o){e.setAttribute("src","http:".concat(o))},renderRain=function(e,o,t){e.textContent="Precipitation (mm): ".concat(o),t&&(e.textContent="Precipitation (mm): ".concat(o," and Chance of Rain: ").concat(t,"%"))};